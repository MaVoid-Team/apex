(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{40:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var r=s(5155),a=s(2115),i=s(63),n=s(5239),o=s(2858),l=s(8793),c=s(8015),d=s(9498);let h=c.Kq,u=c.bL,x=c.l9,m=a.forwardRef((e,t)=>{let{className:s,sideOffset:a=4,...i}=e;return(0,r.jsx)(c.ZL,{children:(0,r.jsx)(c.UC,{ref:t,sideOffset:a,className:(0,d.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...i})})});m.displayName=c.UC.displayName;var g=s(5299),p=s(5993),f=s(3511),b=s(5921),j=s(5229),v=s(5530),w=s(368),N=s(7937),y=s(2619),A=s.n(y);let k=[{src:"/gym-360.jpg",thumb:"/gym-360.jpg",caption:"Strength Training Zone"},{src:"/gym-360.jpg",thumb:"/gym-360.jpg",caption:"Cardio & Conditioning"},{src:"/gym-360.jpg",thumb:"/gym-360.jpg",caption:"Group Fitness Studio"},{src:"/gym-360.jpg",thumb:"/gym-360.jpg",caption:"Aquatic & Recovery Center"}];function C(){(0,i.useRouter)();let e=(0,i.useSearchParams)(),[t,s]=(0,a.useState)(0),[c,d]=(0,a.useState)(!1),[y,C]=(0,a.useState)(null),[S,z]=(0,a.useState)(!0),[E,_]=(0,a.useState)(!0),[$,L]=(0,a.useState)(!1),[R,P]=(0,a.useState)(50),V=(0,a.useRef)(!1);(0,a.useEffect)(()=>{d(!0);let t=Number.parseInt(e.get("area")||"0",10);t>=0&&t<k.length&&s(t)},[e]);let Z=e=>{if(e===t||S||V.current)return;V.current=!0,z(!0),s(e);let r="/virtual-tour?area=".concat(e);window.history.pushState({},"",r)};return((0,a.useEffect)(()=>{if(y&&!S)try{$?y.startAutorotate():y.stopAutorotate()}catch(e){console.warn("Error toggling autorotate:",e)}},[$,y,S]),c)?(0,r.jsx)(h,{children:(0,r.jsxs)("div",{className:"h-screen w-screen relative flex flex-col bg-slate-900",children:[(0,r.jsxs)("div",{className:"absolute top-0 left-0 right-0 z-20 p-4 flex justify-between items-center bg-gradient-to-b from-black/50 to-transparent",children:[(0,r.jsx)(A(),{href:"/",passHref:!0,children:(0,r.jsxs)(l.$,{variant:"outline",className:"bg-white/80 hover:bg-white text-slate-900",children:[(0,r.jsx)(p.A,{className:"h-5 w-5 mr-2"})," Back to APEX"]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(u,{children:[(0,r.jsx)(x,{asChild:!0,children:(0,r.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>L(!$),className:"".concat($?"bg-orange-500 text-white":"bg-white/80 text-slate-900"),disabled:S,children:$?(0,r.jsx)(f.A,{className:"h-4 w-4"}):(0,r.jsx)(b.A,{className:"h-4 w-4"})})}),(0,r.jsx)(m,{children:(0,r.jsxs)("p",{children:[$?"Stop":"Start"," Auto-rotation"]})})]}),(0,r.jsxs)(u,{children:[(0,r.jsx)(x,{asChild:!0,children:(0,r.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>_(!E),className:"bg-white/80 hover:bg-white text-slate-900",children:E?(0,r.jsx)(j.A,{className:"h-4 w-4"}):(0,r.jsx)(v.A,{className:"h-4 w-4"})})}),(0,r.jsx)(m,{children:(0,r.jsxs)("p",{children:[E?"Hide":"Show"," Area Selection"]})})]})]})]}),(0,r.jsxs)("div",{className:"flex-1 relative",children:[S&&(0,r.jsx)("div",{className:"absolute inset-0 bg-slate-900 flex items-center justify-center z-10",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(g.A,{className:"h-12 w-12 animate-spin text-orange-500 mx-auto mb-4"}),(0,r.jsxs)("p",{className:"text-white text-lg",children:["Loading ",k[t].caption,"..."]})]})}),(0,r.jsx)(o.d,{src:k[t].src,height:"100%",width:"100%",container:"",onReady:e=>{if(C(e),z(!1),V.current=!1,$)try{e.startAutorotate()}catch(e){console.warn("Error starting autorotate:",e)}},onError:e=>{console.error("Viewer error:",e),z(!1),V.current=!1},onZoomUpdated:e=>{P(e)},navbar:["zoom","caption","fullscreen"],caption:k[t].caption,defaultZoomLvl:50,autorotateDelay:3e3,autorotateSpeed:"1rpm"},t)]}),(0,r.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20",children:(0,r.jsxs)(u,{children:[(0,r.jsx)(x,{asChild:!0,children:(0,r.jsx)(l.$,{variant:"outline",size:"lg",onClick:()=>{Z((t-1+k.length)%k.length)},disabled:S||V.current,className:"bg-white/80 hover:bg-white text-slate-900 shadow-lg",children:(0,r.jsx)(w.A,{className:"h-6 w-6"})})}),(0,r.jsx)(m,{side:"right",children:(0,r.jsx)("p",{children:"Previous Area"})})]})}),(0,r.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20",children:(0,r.jsxs)(u,{children:[(0,r.jsx)(x,{asChild:!0,children:(0,r.jsx)(l.$,{variant:"outline",size:"lg",onClick:()=>{Z((t+1)%k.length)},disabled:S||V.current,className:"bg-white/80 hover:bg-white text-slate-900 shadow-lg",children:(0,r.jsx)(N.A,{className:"h-6 w-6"})})}),(0,r.jsx)(m,{side:"left",children:(0,r.jsx)("p",{children:"Next Area"})})]})}),E&&(0,r.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-20 bg-black/60 backdrop-blur-sm rounded-lg p-4",children:(0,r.jsx)("div",{className:"flex space-x-3 max-w-4xl",children:k.map((e,s)=>(0,r.jsxs)("button",{onClick:()=>Z(s),className:"relative group transition-all duration-300 rounded-lg overflow-hidden border-2 ".concat(s===t?"border-orange-500 scale-105 shadow-xl":"border-transparent hover:border-white hover:scale-105"),disabled:S||V.current,children:[(0,r.jsx)(n.default,{src:e.thumb||"/placeholder.svg",alt:e.caption,width:200,height:120,className:"object-cover aspect-[16/10] group-hover:opacity-80 transition-opacity"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 p-1 text-center",children:(0,r.jsx)("span",{className:"text-white text-xs truncate",children:e.caption})}),s===t&&(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsx)("div",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded",children:"Current"})})]},s))})})]})}):(0,r.jsxs)("div",{className:"h-screen w-screen flex items-center justify-center bg-slate-900 text-white",children:[(0,r.jsx)(g.A,{className:"h-12 w-12 animate-spin text-orange-500"}),(0,r.jsx)("p",{className:"ml-4 text-xl",children:"Loading Virtual Tour..."})]})}function S(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsxs)("div",{className:"h-screen w-screen flex items-center justify-center bg-slate-900 text-white",children:[(0,r.jsx)(g.A,{className:"h-12 w-12 animate-spin text-orange-500"}),(0,r.jsx)("p",{className:"ml-4 text-xl",children:"Loading Virtual Tour..."})]}),children:(0,r.jsx)(C,{})})}},3755:(e,t,s)=>{Promise.resolve().then(s.bind(s,40))},6358:(e,t,s)=>{"use strict";function r(e){let{src:t,width:s,quality:r}=e;return t.startsWith("http")?t:"".concat("/apex").concat(t)}s.r(t),s.d(t,{default:()=>r})},8793:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var r=s(5155),a=s(2115),i=s(2467),n=s(3101),o=s(9498);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:n,asChild:c=!1,...d}=e,h=c?i.DX:"button";return(0,r.jsx)(h,{className:(0,o.cn)(l({variant:a,size:n,className:s})),ref:t,...d})});c.displayName="Button"},9498:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(2821),a=s(5889);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{e.O(0,[942,831,367,148,901,572,441,255,358],()=>e(e.s=3755)),_N_E=e.O()}]);